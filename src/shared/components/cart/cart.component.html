<app-nav></app-nav>
<div class="fondo">
  <div class="cart">
    <div class="payment">
      <h1>Carrito</h1>
      <div class="product-summary">
        <h3>Producto: Tarro de Miel</h3>
        <p>Descripción: Tarro de miel orgánica.</p>
        <p>Precio: ${{ product.price }}</p>

        <div class="quantity">
          <button type="button" (click)="decreaseQuantity()">-</button>
          <span>{{ quantity }}</span>
          <button type="button" (click)="increaseQuantity()">+</button>
        </div>

        <p><strong>Total: ${{ totalPrice() }}</strong></p>
      </div>
    </div>
    <div class="form-container">
      <form [formGroup]="cartForm" (ngSubmit)="onSubmit()">
        <!-- Campo Cliente -->
        <div class="input-box"
          [ngClass]="{'input-error': cartForm.get('cliente')?.invalid && (cartForm.get('cliente')?.touched || cartForm.get('cliente')?.dirty)}">
          <input id="cliente" formControlName="cliente" type="text" placeholder="Cliente" required />
          <i class="fa-solid fa-user"></i>
          <div
            *ngIf="cartForm.get('cliente')?.invalid && (cartForm.get('cliente')?.touched || cartForm.get('cliente')?.dirty)"
            class="error-message">
            <small>* Este campo es obligatorio</small>
          </div>
        </div>

        <!-- Campo Concepto -->
        <div class="input-box"
          [ngClass]="{'input-error': cartForm.get('concepto')?.invalid && (cartForm.get('concepto')?.touched || cartForm.get('concepto')?.dirty)}">
          <input id="concepto" formControlName="concepto" type="text" placeholder="Concepto" required />
          <i class="fa-solid fa-file-alt"></i>
          <div
            *ngIf="cartForm.get('concepto')?.invalid && (cartForm.get('concepto')?.touched || cartForm.get('concepto')?.dirty)"
            class="error-message">
            <small>* Este campo es obligatorio</small>
          </div>
        </div>

        <!-- Campo Cantidad -->
        <div class="input-box"
          [ngClass]="{'input-error': cartForm.get('cantidad')?.invalid && (cartForm.get('cantidad')?.touched || cartForm.get('cantidad')?.dirty)}">
          <input id="cantidad" formControlName="cantidad" type="number" placeholder="Cantidad" required />
          <i class="fa-solid fa-cogs"></i>
          <div
            *ngIf="cartForm.get('cantidad')?.invalid && (cartForm.get('cantidad')?.touched || cartForm.get('cantidad')?.dirty)"
            class="error-message">
            <small>* La cantidad es obligatoria y debe ser mayor o igual a 1</small>
          </div>
        </div>

        <!-- Botón de Enviar -->
        <button type="submit" [disabled]="cartForm.invalid">Enviar</button>
      </form>
    </div>
  </div>
</div>
<app-footer></app-footer>